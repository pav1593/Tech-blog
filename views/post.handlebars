
<div class='container pt-3 mb-3'>
    <div class='card mb-3'>
    <div class="card-header bg-light">{{posts.title}}</div>
      <div class="card-body">
        <p class="card-text">{{posts.content}}</p>
      </div>
      <div class="card-footer bg-light text-right"><small class="text-muted"> by {{posts.user.username}} posted on {{format_date posts.date_created}}</small></div>
  </div>
</div>  

<div class='container mb-3'>
  <div class="card mb-3">
    <div class="card-body">
      <p>Comments:</p>
      <ul class="list-group list-group-flush">
        {{#if posts.comments.length}}
          {{#each posts.comments as |comment|}}
          <li class="list-group-item">{{comment.comment}}<div><small class="text-muted" >&nbsp&nbsp&nbsp&nbsp{{comment.user.username}} posted on {{format_date comment.date_created}}</small></div></li>
          {{/each}}
        {{else}}
          <small class="text-muted">No comments available.</small>
        {{/if}}
        </ul>
    </div>
  
  {{#if logged_in}}
    <form
      class='form m-3'
      action='/api/recipes/{{id}}'
      method='POST'
      enctype='multipart/form-data'
    >
      <div class='form-group'>
        <textarea
          class='form-input form-control text-muted'
          id='post-comment'
          name='comment'
        >Enter a new comment</textarea>
      </div>
      
      <div class='form-group'>
        <button
          type='submit'
          class='btn btn-success d-block mt-1 mx-auto'
        >Add Comment</button>
      </div>
    </form>
  {{/if}}
  </div>
  <button
          type='button'
          onclick="javascript:history.back()"
          class='btn btn-primary d-block mt-1 mx-auto'
        >Back</button>
</div>

<script src="/js/post.js"></script>